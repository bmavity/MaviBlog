
task :default => ['build:sample']

namespace :build do
	require 'albacore'
	
	task :sample => ['build:msbuild', 'build:mspec']

	desc "Starting build"
	msbuild :msbuild do |msb|
		msb.path_to_command = "C:/Windows/Microsoft.NET/Framework/v4.0.21006/MSBuild.exe"
		msb.properties = {:configuration => :Debug}
		msb.targets [:Clean, :Build]
		msb.solution = "Source/MaviBlog.sln"
	end
	
	desc "Running specs"
	mspec do |mspec|
		mspec.path_to_command = "Tools/MSpec/MSpec.exe"
		mspec.assemblies << "Source/Specs/MaviBlog.Web.Ui.Specs/bin/Debug/MaviBlog.Web.Ui.Specs.dll" 
		mspec.assemblies << "Source/Specs/MaviBlog.Specs/bin/Debug/MaviBlog.Specs.dll"
	end
end